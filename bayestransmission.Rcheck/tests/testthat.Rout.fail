
R version 4.5.1 (2025-06-13) -- "Great Square Root"
Copyright (C) 2025 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> # This file is part of the standard setup for testthat.
> # It is recommended that you do not modify it.
> #
> # Where should you do additional test configuration?
> # Learn more about the roles of various files in:
> # * https://r-pkgs.org/testing-design.html#sec-tests-files-overview
> # * https://testthat.r-lib.org/articles/special-files.html
> 
> library(testthat)
> library(checkmate)
> library(bayestransmission)
> 
> test_check("bayestransmission")
DEBUG InsituParams: probs=[0.9, 0, 0.1]

(In LinearAbxModel specialization)
  * Setting up Abx...Done
  * Setting up Insitu...DEBUG InsituParams: probs=[0.9, 0, 0.1]
Done
  * Setting up Surveillance Test...Done
  * Setting up Clinical Test...Done
  * Setting up Out of Unit...Done
  * Setting up In Unit...Done
  * Setting up Abx Rates...Done
DEBUG InsituParams: probs=[0.7123, 0, 0.2877]
DEBUG InsituParams: probs=[0.8321, 0, 0.1679]
Initializing Variables
Creating RNG...Done
Setting up System...Done
Creating model...
(In LinearAbxModel specialization)
  * Setting up Abx...Done
  * Setting up Insitu...DEBUG InsituParams: probs=[0.9, 0, 0.1]
Done
  * Setting up Surveillance Test...Done
  * Setting up Clinical Test...Done
  * Setting up Out of Unit...Done
  * Setting up In Unit...Done
  * Setting up Abx Rates...Done
Done
Set time origin
Building history structure...Done
Finding tests for WAIC.

Building sampler.


=== INITIAL PARAMETERS ===

WARNING: Initial log likelihood is -inf
This suggests a problem with model initialization or data.
0.9000000000	0.1000000000	0.0000000000	0.8000000000	0.0000000000	0.8000000000	0.5000000000	0.0000000000	1.0000000000	0.0000000000	0.0500000000	0.0100000000	0.0010000000	1.0000000000	0.9999999999	0.9999999999	1.0000000000	1.0000000000	1.0000000000	0.0100000000	1.0000000000	1.0000000000	1.0000000000	1.0000000000			LogLike=-inf
=== END INITIAL PARAMETERS ===

burning in MCMC.

0:sample episodes...Sample Model...done.
1:sample episodes...Sample Model...done.
Running MCMC.

0:sample episodes...Sample Model...Outputting parameters...likelhood...done.
1:sample episodes...Sample Model...Outputting parameters...likelhood...done.
2:sample episodes...Sample Model...Outputting parameters...likelhood...done.
MCMC done.

WAIC 1 2 = 	-2.19067	2.68477
Writing complete form of final state.
DEBUG InsituParams: probs=[0.9, 0, 0.1]
DEBUG InsituParams: probs=[0.9, 0, 0.1]
DEBUG InsituParams: probs=[0.9, 0, 0.1]
[ FAIL 1 | WARN 0 | SKIP 15 | PASS 214 ]

══ Skipped tests (15) ══════════════════════════════════════════════════════════
• Abstract class - tested via derived classes in other modules (1):
  'test-Module-Infect.R:46:3'
• Base class - tested via derived classes (1): 'test-Module-utils.R:6:3'
• Constructor parameters not documented - needs investigation (1):
  'test-Module-Infect.R:179:3'
• LogNormalModelParams has constructor issues with default AcquisitionParams
  (1): 'test-parameter-initialization-cpp.R:271:3'
• Need to create standalone test - currently tested via integration (9):
  'test-Module-Infect.R:9:3', 'test-Module-Infect.R:14:3',
  'test-Module-Infect.R:19:3', 'test-Module-Infect.R:24:3',
  'test-Module-Infect.R:36:3', 'test-Module-Infect.R:41:3',
  'test-Module-lognormal.R:9:3', 'test-Module-lognormal.R:14:3',
  'test-Module-lognormal.R:19:3'
• Skipping interactive MCMC test (1): 'test-loglikelihood-components.R:89:3'
• Tested via SystemHistory properties (UnitHeads, PatientHeads, etc.) (1):
  'test-Module-utils.R:11:3'

══ Failed tests ════════════════════════════════════════════════════════════════
── Failure ('test-Module-utils.R:128:3'): RRandom rpoisson method ──────────────
a == b is not FALSE

`actual`:   TRUE 
`expected`: FALSE

[ FAIL 1 | WARN 0 | SKIP 15 | PASS 214 ]
Error: Test failures
Execution halted
